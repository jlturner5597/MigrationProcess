<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Surpass Migration Framework — Enterprise Architecture (2025)</title>
  <meta name="description" content="TOGAF-informed migration framework with Surpass brand styling and modern UX." />
  <meta name="color-scheme" content="light">
  <!-- Source Sans Pro (400/400i/600/600i) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Surpass brand tokens */
      --sp-dark-grey: #265063;
      --sp-dark-cyan: #176F9B;
      --sp-cyan: #2099D5;
      --sp-light-cyan: #BDE3F3;
      --sp-very-light-cyan: #EEF6FC;
      --sp-yellow: #F4CA11;
      --sp-light-yellow: #FDF7B6;

      /* UI tokens */
      --bg: #ffffff;                 /* white background per request */
      --panel: var(--sp-very-light-cyan);
      --text: #0f172a;
      --muted: #475569;
      --accent: var(--sp-cyan);
      --accent-700: var(--sp-dark-cyan);
      --border: var(--sp-light-cyan);
      --card: #ffffff;
      --radius: 14px;
      --shadow: 0 10px 25px rgba(2, 6, 23, 0.06);
      --hero-grad: radial-gradient(1200px 400px at 10% -20%, rgba(32,153,213,0.08), transparent 60%);
      --focus: var(--sp-dark-cyan);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Source Sans Pro", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      font-weight: 400;
      line-height: 1.65;
      color: var(--text);
      background: var(--bg);
    }

    :focus-visible {
      outline: 2px solid var(--focus);
      outline-offset: 2px;
      border-radius: 6px;
    }

    em { font-style: italic; }
    strong { font-weight: 600; }
    h1, h2, h3, h4, h5, h6 { font-weight: 600; letter-spacing: -0.01em; margin-top: 0; color: var(--sp-dark-grey); }
    h1 { font-size: clamp(28px, 3vw, 40px); }
    h2 { font-size: clamp(22px, 2.2vw, 28px); }
    h3 { font-size: clamp(18px, 1.8vw, 22px); }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    a:focus-visible { outline-color: var(--accent-700); }

    .app {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 28px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 20px 80px;
    }
    .sidebar {
      position: sticky; top: 16px; height: calc(100vh - 32px); overflow: auto;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .brand { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .brand svg { flex: none; color: var(--sp-dark-grey); }
    .title { font-size: 15px; font-weight: 600; letter-spacing: 0.01em; color: var(--sp-dark-grey); }
    .subtitle { font-size: 12px; color: var(--muted); margin-top: 2px; font-style: italic; }

    .controls { display: flex; gap: 8px; margin: 10px 0 12px; }
    button.ctrl {
      border: 1px solid var(--border);
      background: var(--panel);
      color: var(--sp-dark-grey);
      border-radius: 10px;
      padding: 6px 10px;
      cursor: pointer;
    }
    button.ctrl:hover { background: #fff; }

    .search { position: relative; margin: 8px 0 12px; }
    .search input {
      width: 100%; padding: 10px 12px; border-radius: 10px;
      border: 1px solid var(--border); background: #fff; color: var(--text);
    }

    nav#toc { margin-top: 10px; font-size: 14px; }
    nav#toc ul { list-style: none; padding-left: 12px; margin: 6px 0; }
    nav#toc li { margin: 6px 0; }
    nav#toc a { color: var(--sp-dark-grey); }
    nav#toc a.active { color: var(--accent-700); text-decoration: underline; text-underline-offset: 3px; }

    .main { min-width: 0; }
    header.hero {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      background-image: var(--hero-grad);
      box-shadow: var(--shadow);
      padding: 24px;
    }
    .hero .meta { color: var(--muted); font-size: 14px; }

    section.card {
      grid-column: 1 / -1;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 22px;
    }
    .prose p { margin: 10px 0; }

    .kpis {
      display: grid; grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px; margin-top: 8px;
    }
    .kpi {
      border: 1px solid var(--border); border-radius: 12px;
      background: var(--sp-very-light-cyan);
      padding: 12px;
    }
    .kpi .label { font-size: 12px; color: var(--muted); }
    .kpi .value { font-size: 22px; font-weight: 600; color: var(--sp-dark-grey); }

    .callout {
      border-left: 4px solid var(--accent);
      background: linear-gradient(180deg, rgba(32,153,213,0.10), transparent);
      border-radius: 10px;
      padding: 12px 14px;
      margin: 12px 0;
    }
    .twocol { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
    .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    .chip { border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius: 999px; font-size: 12px; color: var(--sp-dark-grey); }

    .mermaid {
      border: 1px solid var(--border);
      background: var(--panel);
      border-radius: 12px;
      padding: 10px;
      overflow: auto;
    }
    details { border:1px solid var(--border); border-radius: 10px; padding: 10px 12px; background: #fff; }
    details summary { cursor: pointer; font-weight: 600; color: var(--sp-dark-grey); }

    table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 14px; }
    th, td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
    th { background: var(--sp-very-light-cyan); }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace; }
    pre { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 12px; overflow: auto; }

    .floating-top {
      position: fixed; right: 18px; bottom: 18px; padding: 10px 12px;
      border-radius: 999px; background: var(--accent); color: white;
      border: none; box-shadow: var(--shadow); cursor: pointer;
    }
    .floating-top:focus-visible { outline-color: #fff; }

    .tag { font-size: 12px; color: var(--muted); }
    .hstack { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
    .sep { height:1px; background: var(--border); margin: 14px 0; }

    /* Badges using brand yellows */
    .badge { display:inline-block; padding: 2px 8px; border-radius: 999px; font-size:12px; border:1px solid #f3e38a; background: var(--sp-light-yellow); color: #7a6000; }

    @media (max-width: 960px) {
      .app { grid-template-columns: 1fr; }
      .sidebar { position: relative; height: auto; }
      .twocol { grid-template-columns: 1fr; }
      .kpis { grid-template-columns: repeat(2, 1fr); }
    }
    /* Print */
    @media print {
      .sidebar, .controls, .floating-top { display: none !important; }
      body { background: #fff; }
      section.card { break-inside: avoid; }
      a::after { content: " (" attr(href) ")"; font-size: 10px; color: #555; }
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar" role="complementary" aria-label="On-page navigation">
      <div class="brand" aria-label="Document brand">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <circle cx="12" cy="12" r="10" stroke="currentColor" opacity="0.25"></circle>
          <path d="M4 14c4 0 4-8 8-8s4 8 8 8" stroke="currentColor"></path>
        </svg>
        <div>
          <div class="title">Surpass Migration Framework</div>
          <div class="subtitle">Branded: Source Sans Pro • White UI</div>
        </div>
      </div>
      <div class="controls">
        <button class="ctrl" id="expandAll">Expand all</button>
        <button class="ctrl" id="collapseAll">Collapse all</button>
      </div>
      <div class="search">
        <input id="tocFilter" type="search" placeholder="Filter sections…" aria-label="Filter table of contents">
      </div>
      <nav id="toc" aria-label="Table of Contents"></nav>
      <div class="sep"></div>
      <div class="tag">Last updated: <span id="updated"></span></div>
    </aside>

    <main class="main" id="top">
      <header class="hero">
        <h1>Surpass Migration Framework — Enterprise Architecture (2025)</h1>
        <div class="meta hstack">
          <span>TOGAF-informed • API-first • Data-centric</span>
          <span>•</span>
          <span class="badge">Print-friendly</span>
        </div>
        <div class="kpis" role="list">
          <div class="kpi" role="listitem"><div class="label">Lifecycle Phases</div><div class="value">5</div></div>
          <div class="kpi" role="listitem"><div class="label">Critical Reviews</div><div class="value">4</div></div>
          <div class="kpi" role="listitem"><div class="label">Integration Types</div><div class="value">API • SSO • LTI</div></div>
          <div class="kpi" role="listitem"><div class="label">Readiness Goal</div><div class="value">Prod-ready</div></div>
        </div>
      </header>

      <section class="card prose" id="executive-summary">
        <h2>Executive Summary</h2>
        <div class="callout"><strong>Direct outcome:</strong> A repeatable, auditable migration method that scales across programs, with <em>data contracts</em>, <em>policy-as-code</em>, and <em>continuous verification</em> baked in.</div>
        <p>This edition reframes the Surpass migration lifecycle around a future-proof enterprise architecture:</p>
        <ul>
          <li><strong>Event-driven integration fabric</strong> (EDA) with idempotent APIs and AsyncAPI/OpenAPI contracts.</li>
          <li><strong>Data-centric core</strong> using a lakehouse pattern for zero-copy analytics and lineage.</li>
          <li><strong>Security by default</strong>: OIDC/OAuth2, SCIM, least privilege, and confidential computing readiness.</li>
          <li><strong>Quality gates</strong>: schema validation, synthetic candidates, replayable migrations, and SLOs.</li>
          <li><strong>Human-centered UX</strong>: accessible content, progressive disclosure, and printable artifacts.</li>
        </ul>
      </section>

      <section class="card" id="lifecycle">
        <h2>Migration Lifecycle Overview</h2>
<div class="mermaid">
flowchart LR
  A[Discovery & Architecture Vision] --> B[Detailed Design & Planning]
  B --> C[Build & Configure]
  C --> D[QA & Validation]
  D --> E[Go-Live & Handoff]

  subgraph Reviews[Dependency Reviews]
    R1[[Data]]:::rev --> R2[[Process]]:::rev --> R3[[Integration]]:::rev --> R4[[Performance]]:::rev
  end

  classDef rev fill:#EEF6FC,stroke:#2099D5,color:#265063,stroke-width:1px;
  B -. gated by .-> Reviews
  C -. gated by .-> Reviews
</div>
        <p class="tag">Gates enforce shared understanding: data, process, integration, performance.</p>
      </section>

      <section class="card" id="phase1">
        <h2>Phase 1: Discovery &amp; Architecture Vision</h2>
        <div class="twocol">
          <div>
            <h3>Business context</h3>
            <table>
              <thead><tr><th>Area</th><th>Key considerations</th></tr></thead>
              <tbody>
                <tr><td>Scale</td><td>Items, candidates, exams, centers, throughput</td></tr>
                <tr><td>Delivery</td><td>Surpass native, SecureClient/Browser, proctoring</td></tr>
                <tr><td>Compliance</td><td>FERPA, HIPAA adj., SOC 2, WCAG, regional privacy</td></tr>
                <tr><td>Integrations</td><td>LMS/LTI, IdP (OIDC/SAML), CRM/ERP, data export</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <h3>Target state sketch</h3>
<div class="mermaid">
flowchart TD
  subgraph Users[Authors • Admins • Proctors • Candidates]
  end
  Users --> UI[Surpass UX & APIs]
  UI --> FABRIC[(Integration Fabric)]
  FABRIC -->|sync/async| SURPASS[(Surpass Core)]
  FABRIC --> LAKE[(Analytics Lakehouse)]
  FABRIC --> IDM[(Identity & Access)]
  FABRIC --> OBS[Observability]

  classDef accent fill:#EEF6FC,stroke:#2099D5,color:#265063;
</div>
          </div>
        </div>
        <details><summary>Outcome: Architecture Vision</summary>
          <ul>
            <li>Migration strategy & milestones</li>
            <li>Preliminary risks & mitigations</li>
            <li>Initial data contract inventory (OpenAPI/AsyncAPI)</li>
          </ul>
        </details>
      </section>

      <section class="card" id="phase2">
        <h2>Phase 2: Detailed Design &amp; Planning</h2>
        <div class="twocol">
          <div>
            <h3>Structure planning</h3>
<div class="mermaid">
flowchart TD
  A1[Org & Access Model] --> A2[Item Bank & Metadata]
  A2 --> A3[Test Creation & Blueprinting]
  A3 --> A4[Administration & Security]
  A4 --> A5[Reporting & Analytics]

  A1 -.dependency review.-> DR((DR))
  A2 -.dependency review.-> DR
  A3 -.dependency review.-> DR
  A4 -.dependency review.-> DR

  classDef accent fill:#EEF6FC,stroke:#2099D5,color:#265063;
</div>
          </div>
          <div>
            <h3>Migration path</h3>
            <table>
              <thead><tr><th>Approach</th><th>Evaluation</th></tr></thead>
              <tbody>
                <tr><td>APIs</td><td>Throughput, rate limits, auth, retries/idempotency</td></tr>
                <tr><td>UI Imports</td><td>Volume, validation, rollback strategy</td></tr>
                <tr><td>Transforms</td><td>Mapping complexity, schema drift, testability</td></tr>
                <tr><td>Manual</td><td>Effort, risk controls, dual-entry windows</td></tr>
              </tbody>
            </table>
          </div>
        </div>
        <details><summary>Outcome: Migration Runbook</summary>
          <ul>
            <li>Step-by-step procedures with pre/post conditions</li>
            <li>Data mapping & validation criteria (JSON Schema)</li>
            <li>Rollback/redo strategy; replayable jobs</li>
          </ul>
        </details>
      </section>

      <section class="card" id="phase3">
        <h2>Phase 3: Build &amp; Configure</h2>
        <h3>Module relationships</h3>
<div class="mermaid">
flowchart LR
  Authoring[Item Authoring] --> TestCreation[Test Creation]
  TestCreation --> Admin[Test Administration]
  Admin --> Delivery[Delivery & Proctoring]
  Delivery --> Results[Results & Analytics]
  Authoring --> Media[(Media Assets)]

  classDef media fill:#FDF7B6,stroke:#F4CA11,color:#5a4a00;
  class Media media;
</div>
        <h3>Interactive CLI workflow</h3>
<div class="mermaid">
sequenceDiagram
  autonumber
  participant SE as Solutions Engineer
  participant CLI as Migration CLI
  participant API as Surpass API
  SE->>CLI: select "Load Items"
  CLI->>CLI: validate schema, dedupe media
  CLI->>API: POST /items (idempotent)
  API-->>CLI: 202 Accepted (job id)
  CLI->>API: GET /jobs/:id (poll)
  API-->>CLI: 200 OK (completed)
  CLI->>SE: summary report + diffs
</div>
        <details><summary>Outcome: Migration-Ready Environment</summary>
          <ul>
            <li>Configured instance & seeded test data</li>
            <li>Validated scripts (unit + contract tests)</li>
            <li>Observability pipelines enabled (logs, traces, metrics)</li>
          </ul>
        </details>
      </section>

      <section class="card" id="phase4">
        <h2>Phase 4: QA &amp; Validation</h2>
        <div class="twocol">
          <div>
            <h3>Data flow validation</h3>
<div class="mermaid">
flowchart LR
  X[Source Data] -->|extract| T[Transform]
  T -->|validate schema| V{Pass?}
  V -- Yes --> L[Load to Surpass]
  V -- No --> E[Error Queue & Fix]
  L --> UAT[UAT: Synthetic Candidates]
  UAT --> RPT[Reports • Analytics]

  classDef accent fill:#EEF6FC,stroke:#2099D5,color:#265063;
</div>
          </div>
          <div>
            <h3>Testing approaches</h3>
            <table>
              <thead><tr><th>Approach</th><th>Activities</th></tr></thead>
              <tbody>
                <tr><td>Manual</td><td>UAT, process validation, accessibility checks</td></tr>
                <tr><td>Automated</td><td>Data integrity, performance, contract tests</td></tr>
                <tr><td>Dependency</td><td>Cross-module and end-to-end validation</td></tr>
              </tbody>
            </table>
          </div>
        </div>
        <details><summary>Outcome: Validation Report</summary>
          <ul>
            <li>Test results & coverage</li>
            <li>Issue tracking with SLAs</li>
            <li>Customer sign-off package</li>
          </ul>
        </details>
      </section>

      <section class="card" id="phase5">
        <h2>Phase 5: Go-Live &amp; Handoff</h2>
        <div class="twocol">
          <div>
            <h3>Production migration</h3>
            <table>
              <thead><tr><th>Component</th><th>Details</th></tr></thead>
              <tbody>
                <tr><td>Data</td><td>Cutover plan, final verification</td></tr>
                <tr><td>Performance</td><td>SLOs, error budgets, dashboards</td></tr>
                <tr><td>Ops</td><td>Runbooks, on-call, escalation paths</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <h3>Knowledge transfer</h3>
            <ul>
              <li>Admin & user training</li>
              <li>Documentation bundle (as-built + diagrams)</li>
              <li>Support transition & SLAs</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="card" id="ea-future">
        <h2>Enterprise Architecture: 2026–2030 Vision</h2>
        <p>This reference target captures where enterprise assessment platforms are heading. Use it to benchmark roadmap and migration choices.</p>
<div class="mermaid">
flowchart TD
  subgraph Edge[Edge & Clients]
    SC[SecureClient/Browser]:::n --> PRT[Proctoring]
    LTI[LTI 1.3 Tools]
  end
  subgraph Fabric[Integration Fabric]
    G[API Gateway]
    EB[(Event Bus)]
    CT[Contracts: OpenAPI/AsyncAPI]
    PC[Policy-as-Code]
    Q[Queues / Retry DLQs]
  end
  subgraph Data[Data Core]
    LH[(Lakehouse)]
    LM[Lineage & Catalog]
    DC[Data Contracts]
  end
  subgraph Sec[Security & Governance]
    IAM[OIDC/OAuth2 • SCIM]
    KMS[KMS / Secrets]
    CMP[Compliance: SOC2, WCAG]
  end
  subgraph Obs[Observability]
    LOG[Logs]
    MET[Metrics]
    TR[Traces]
  end

  Edge --> G --> EB
  EB -->|events| Surpass[(Surpass Services)]
  Surpass --> EB
  EB --> LH
  LH --> LM
  G --> PC
  IAM --> G
  Obs:::n --> Surpass

  classDef n fill:#EEF6FC,stroke:#2099D5,color:#265063;
</div>
        <div class="chips">
          <span class="chip">Event-driven</span>
          <span class="chip">Zero-copy analytics</span>
          <span class="chip">Data lineage</span>
          <span class="chip">Contracts first</span>
          <span class="chip">Least privilege</span>
          <span class="chip">Observability by design</span>
        </div>
      </section>

      <section class="card" id="timeline">
        <h2>Project Timeline (Example)</h2>
<div class="mermaid">
gantt
  title Migration Timeline
  dateFormat  YYYY-MM-DD
  section Pre-Sales
  Discovery & Vision          :a1, 2025-08-08, 10d
  section Planning
  Design & Runbook            :a2, after a1, 14d
  section Build
  Configure & Seed            :a3, after a2, 21d
  section QA
  Validation & UAT            :a4, after a3, 14d
  section Go-Live
  Cutover & Handoff           :a5, after a4, 7d
</div>
      </section>

      <section class="card" id="appendix">
        <h2>Appendix</h2>
        <details open><summary>Accessibility & Print</summary>
          <ul>
            <li>Color contrast tested for key elements; focus outlines added for keyboard users.</li>
            <li>Print CSS ensures clean PDF export (hide chrome, avoid orphaned content).</li>
          </ul>
        </details>
        <details><summary>Implementation Notes</summary>
          <ul>
            <li>Use JSON Schema for data validation; publish OpenAPI/AsyncAPI for integrations.</li>
            <li>Adopt idempotency keys for writes; exponential backoff with jitter.</li>
            <li>Embed SLOs into runbooks; alert on error budget burn rates.</li>
          </ul>
        </details>
      </section>
    </main>
  </div>

  <button class="floating-top" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Back to top">Top</button>

  <!-- Mermaid 9.4.3 -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script>
  <script>
    // Mermaid theme variables mapped to Surpass brand
    mermaid.initialize({
      startOnLoad: true,
      theme: 'default',
      themeVariables: {
        primaryColor: '#EEF6FC',
        primaryBorderColor: '#2099D5',
        primaryTextColor: '#265063',
        secondaryColor: '#BDE3F3',
        tertiaryColor: '#FFFFFF',
        lineColor: '#176F9B',
        noteBkgColor: '#FDF7B6',
        noteBorderColor: '#F4CA11',
        textColor: '#265063',
        fontFamily: 'Source Sans Pro, ui-sans-serif, system-ui'
      }
    });
  </script>

  <script>
    // Updated date
    document.getElementById('updated').textContent = new Date().toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: '2-digit' });

    // Auto-generate TOC
    const toc = document.getElementById('toc');
    const headers = [...document.querySelectorAll('main h2, main h3')];
    headers.forEach(h => { if (!h.id) h.id = h.textContent.trim().toLowerCase().replace(/[^a-z0-9]+/g,'-'); });
    const tree = headers.map(h => ({ id: h.id, text: h.textContent, level: h.tagName === 'H2' ? 2 : 3 }));
    const ul = document.createElement('ul'); let currentSub;
    tree.forEach(node => {
      if (node.level === 2) {
        currentSub = null;
        const li = document.createElement('li');
        const a = document.createElement('a'); a.href = '#' + node.id; a.textContent = node.text;
        li.appendChild(a); ul.appendChild(li);
      } else {
        if (!currentSub) { currentSub = document.createElement('ul'); ul.lastElementChild?.appendChild(currentSub); }
        const sli = document.createElement('li');
        const sa = document.createElement('a'); sa.href = '#' + node.id; sa.textContent = node.text;
        sli.appendChild(sa); currentSub.appendChild(sli);
      }
    });
    toc.appendChild(ul);

    // Scroll spy
    const links = toc.querySelectorAll('a');
    const obs = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        const id = entry.target.getAttribute('id');
        const link = toc.querySelector('a[href="#' + id + '"]');
        if (entry.isIntersecting) {
          links.forEach(l => l.classList.remove('active'));
          link?.classList.add('active');
        }
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
    headers.forEach(h => obs.observe(h));

    // Filter TOC
    const filterInput = document.getElementById('tocFilter');
    filterInput.addEventListener('input', e => {
      const q = e.target.value.toLowerCase();
      toc.querySelectorAll('li').forEach(li => {
        const txt = li.textContent.toLowerCase();
        li.style.display = txt.includes(q) ? '' : 'none';
      });
    });

    // Expand/Collapse details controls
    document.getElementById('expandAll').addEventListener('click', () => {
      document.querySelectorAll('details').forEach(d => d.open = true);
    });
    document.getElementById('collapseAll').addEventListener('click', () => {
      document.querySelectorAll('details').forEach(d => d.open = false);
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Surpass Migration Guide — Simplified Template</title>
  <meta name="description" content="Simplified, brand‑aligned Surpass migration guide template with sticky ToC, checklists, and mermaid diagrams." />
  <meta name="color-scheme" content="light" />
  <!-- Source Sans Pro (400/400i/600/600i) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Surpass palette (from prior doc) */
      --sp-dark-grey: #265063;
      --sp-dark-cyan: #176F9B;
      --sp-cyan: #2099D5;
      --sp-light-cyan: #BDE3F3;
      --sp-very-light-cyan: #EEF6FC;
      --sp-yellow: #F4CA11;
      --sp-light-yellow: #FDF7B6;

      --bg: #ffffff;
      --panel: var(--sp-very-light-cyan);
      --text: #0f172a;
      --muted: #475569;
      --accent: var(--sp-cyan);
      --accent-700: var(--sp-dark-cyan);
      --border: var(--sp-light-cyan);
      --card: #ffffff;
      --radius: 14px;
      --shadow: 0 10px 25px rgba(2, 6, 23, 0.06);
      --focus: var(--sp-dark-cyan);

      --base: 16.5px;
      --h1: 34px;
      --h2: 24px;
      --h3: 19px;
      --measure: 90ch;

      --logo-min-screen: 36px;
      --logo-min-print: 7mm;
      --iso: 16px; /* base spacing unit */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Source Sans Pro", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
      font-weight: 400;
      font-size: var(--base);
      line-height: 1.7;
      color: var(--text);
      background: var(--bg);
    }

    :focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; border-radius: 6px; }
    em { font-style: italic; }
    strong { font-weight: 600; }
    h1, h2, h3, h4 { font-weight: 600; letter-spacing: -0.01em; margin-top: 0; color: var(--sp-dark-grey); }
    h1 { font-size: var(--h1); }
    h2 { font-size: var(--h2); }
    h3 { font-size: var(--h3); }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Masthead */
    .masthead {
      display: grid;
      grid-template-columns: auto 1fr;
      align-items: center;
      gap: clamp(var(--iso), 2vw, 28px);
      padding: calc(var(--iso) * 0.8) clamp(var(--iso), 2vw, 28px);
      border-bottom: 1px solid var(--border);
      background: #fff;
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .masthead .logo-wrap { display:flex; align-items:center; justify-content:flex-start; padding: calc(var(--iso) * 0.2); }
    .masthead img.logo { height: clamp(var(--logo-min-screen), 4.2vw, 64px); width: auto; display:block; }
    @media print { .masthead img.logo { min-height: var(--logo-min-print); } }
    .masthead .doc-title { display:flex; flex-direction:column; gap: 2px; }
    .masthead .doc-title h1 { margin: 0; line-height: 1.2; }
    .masthead .doc-sub { color: var(--muted); font-size: 14px; }

    /* Layout */
    .app {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 28px;
      max-width: 1600px;
      margin: 0 auto;
      padding: 20px 24px 80px;
    }
    .sidebar {
      position: sticky; top: 96px; height: calc(100vh - 116px);
      overflow: auto;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .sidebar .title { font-size: 16px; font-weight: 600; color: var(--sp-dark-grey); margin-bottom: 6px; }
    .search input { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border); background: #fff; color: var(--text); }
    nav#toc { margin-top: 10px; font-size: 15px; }
    nav#toc ul { list-style: none; padding-left: 12px; margin: 6px 0; }
    nav#toc li { margin: 6px 0; }
    nav#toc a { color: var(--sp-dark-grey); }
    nav#toc a.active { color: var(--accent-700); text-decoration: underline; text-underline-offset: 3px; }

    .main { min-width: 0; }
    section.card {
      grid-column: 1 / -1;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 20px;
      margin-bottom: 18px;
    }
    .prose p { margin: 10px 0; max-width: var(--measure); }
    .grid-2 { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; }
    .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }

    .callout { border-left: 4px solid var(--accent); background: linear-gradient(180deg, rgba(32,153,213,0.10), transparent); border-radius: 10px; padding: 12px 14px; margin: 12px 0; max-width: var(--measure); }
    .kvs { display:grid; grid-template-columns: 200px 1fr; gap:10px; }

    table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 15px; }
    th, td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; vertical-align: top; }
    th { background: var(--sp-very-light-cyan); }

    .badge { display:inline-block; padding: 2px 8px; border-radius: 999px; border:1px solid var(--border); background: var(--sp-very-light-cyan); font-size: 12px; color: var(--sp-dark-grey); }

    .mermaid { border: 1px solid var(--border); background: var(--panel); border-radius: 12px; padding: 12px; overflow: auto; min-height: 300px; }

    .floating-top { position: fixed; right: 22px; bottom: 22px; padding: 10px 12px; border-radius: 999px; background: var(--accent); color: #fff; border: none; box-shadow: var(--shadow); cursor: pointer; }

    @media (max-width: 1400px) { .app { max-width: 1200px; grid-template-columns: 300px 1fr; gap: 24px; } .grid-2 { grid-template-columns: 1fr; } }
    @media print { .sidebar, .floating-top, .masthead { display: none !important; } body { background: #fff; font-size: 12pt; } section.card { break-inside: avoid; } }
  </style>
  <!-- Mermaid 9.4.3 (reliable for rendering) -->
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script>
  <script>
    // Minimal JS: ToC generation, scroll spy, mermaid init
    document.addEventListener('DOMContentLoaded', () => {
      // Mermaid
      if (window.mermaid) {
        mermaid.initialize({ startOnLoad: false, theme: 'default', securityLevel: 'loose' });
        const blocks = document.querySelectorAll('.mermaid');
        blocks.forEach(b => {
          try { mermaid.init(undefined, b); } catch(e) { console.warn('Mermaid error', e); }
        });
      }

      // Generate ToC from h2/h3
      const tocRoot = document.querySelector('#toc');
      const headings = [...document.querySelectorAll('main h2, main h3')];
      const ul = document.createElement('ul');
      headings.forEach(h => {
        if (!h.id) h.id = h.textContent.toLowerCase().replace(/[^a-z0-9]+/g,'-');
        const li = document.createElement('li');
        if (h.tagName === 'H3') li.style.marginLeft = '12px';
        const a = document.createElement('a');
        a.href = `#${h.id}`; a.textContent = h.textContent;
        li.appendChild(a); ul.appendChild(li);
      });
      tocRoot.appendChild(ul);

      // Scroll spy
      const links = tocRoot.querySelectorAll('a');
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const id = entry.target.getAttribute('id');
          const link = tocRoot.querySelector(`a[href="#${id}"]`);
          if (entry.isIntersecting) {
            links.forEach(l => l.classList.remove('active'));
            if (link) link.classList.add('active');
          }
        });
      }, { rootMargin: '0px 0px -70% 0px', threshold: 0.1 });
      headings.forEach(h => obs.observe(h));

      // Back to top
      document.querySelector('#toTop').addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    });
  </script>
</head>
<body>
  <!-- Masthead -->
  <div class="masthead" role="banner" aria-label="Surpass header">
    <div class="logo-wrap">
      <!-- Replace src with approved Surpass logo asset if needed -->
      <img class="logo" alt="Surpass — Powering Assessment" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='250' height='64' viewBox='0 0 250 64'%3E%3Crect width='250' height='64' fill='%23EEF6FC'/%3E%3Ctext x='16' y='40' font-family='Arial' font-size='24' fill='%23176F9B'%3ESurpass%3C/text%3E%3C/svg%3E" />
    </div>
    <div class="doc-title">
      <h1>Surpass Migration Guide — Simplified Template</h1>
      <div class="doc-sub">Widescreen layout (1920×1080). Brand‑aligned. Use as a starter and extend per client engagement.</div>
    </div>
  </div>

  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" role="complementary" aria-label="On-page navigation">
      <div class="title">Contents</div>
      <div class="search"><input type="search" placeholder="Filter sections… (Ctrl+F works too)" oninput="[...document.querySelectorAll('#toc a')].forEach(a=>a.parentElement.style.display=a.textContent.toLowerCase().includes(this.value.toLowerCase())?'':'none')"/></div>
      <nav id="toc" aria-label="Table of contents"></nav>
    </aside>

    <!-- Main -->
    <main class="main" role="main">

      <section class="card" id="purpose">
        <h2>Purpose & Scope</h2>
        <div class="prose">
          <p>Define the migration’s goals, measurable success criteria, in‑scope/out‑of‑scope domains, and key constraints. Keep this section crisp; everything else references back here.</p>
          <div class="kvs">
            <div><strong>Objectives</strong></div><div>e.g., Decommission legacy LMS delivery by <strong>Q4</strong>; deliver parity for Item Banking, Test Delivery, Analytics.</div>
            <div><strong>KPIs</strong></div><div>Zero high‑severity incidents at launch; &lt; 1% item import failure; P95 test latency &lt; 1.2s.</div>
            <div><strong>Out of scope</strong></div><div>Historical proctoring media migration; legacy badging.</div>
          </div>
          <div class="callout"><strong>Tip:</strong> Keep objectives numbered and testable. Use the same identifiers in cutover and validation.</div>
        </div>
      </section>

      <section class="card" id="stakeholders">
        <h2>Stakeholders & RACI</h2>
        <div class="prose">
          <table>
            <thead><tr><th>Workstream</th><th>R</th><th>A</th><th>C</th><th>I</th></tr></thead>
            <tbody>
              <tr><td>Item Bank Migration</td><td>SE</td><td>PM</td><td>Client SMEs</td><td>Leadership</td></tr>
              <tr><td>Integration (SSO, Results)</td><td>TA</td><td>SE</td><td>Client IT</td><td>Support</td></tr>
              <tr><td>Delivery & Forms</td><td>SE</td><td>Client Lead</td><td>Psychometrician</td><td>Proctoring</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="timeline">
        <h2>Phases & Timeline</h2>
        <div class="grid-2">
          <div class="prose">
            <p>Six lightweight phases. Use the <span class="badge">Decision Log</span> in each phase to capture trade‑offs.</p>
            <ol>
              <li><strong>Discovery</strong> — inventory, constraints, risk register.</li>
              <li><strong>Plan</strong> — scope, schedule, RACI, acceptance criteria.</li>
              <li><strong>Build & Migrate</strong> — environments, data loads, integrations.</li>
              <li><strong>Validate</strong> — UAT, performance, content QA.</li>
              <li><strong>Launch</strong> — cutover, comms, hypercare playbook.</li>
              <li><strong>Post‑Launch</strong> — warranty fixes, handover, retros.</li>
            </ol>
          </div>
          <div>
            <div class="mermaid">
              flowchart LR
                A[Discovery] --> B[Plan]
                B --> C[Build & Migrate]
                C --> D[Validate]
                D --> E[Launch]
                E --> F[Post-Launch]
                classDef phase fill:#BDE3F3,stroke:#176F9B,color:#176F9B;
                class A,B,C,D,E,F phase;
            </div>
          </div>
        </div>
      </section>

      <section class="card" id="environments">
        <h2>Environments & Access</h2>
        <div class="prose">
          <table>
            <thead><tr><th>Env</th><th>URL</th><th>Purpose</th><th>Access</th></tr></thead>
            <tbody>
              <tr><td>Sandbox</td><td>…</td><td>Prototype, demos</td><td>SSO (Test IdP)</td></tr>
              <tr><td>UAT</td><td>…</td><td>Client user acceptance</td><td>SSO + Named Admins</td></tr>
              <tr><td>Production</td><td>…</td><td>Live delivery</td><td>SSO (Prod IdP)</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="data-domains">
        <h2>Data Domains & Loads</h2>
        <div class="prose">
          <p>Outline source → target mappings, load order, and validations.</p>
          <table>
            <thead><tr><th>Domain</th><th>Source</th><th>Target</th><th>Method</th><th>Validation</th></tr></thead>
            <tbody>
              <tr><td>Items</td><td>Legacy XML</td><td>Surpass Item Bank</td><td>API Batch</td><td>Record parity + render check</td></tr>
              <tr><td>Tests/Forms</td><td>Legacy DB</td><td>Surpass Test Admin</td><td>API + UI config</td><td>Scoring rules parity</td></tr>
              <tr><td>Users/Roles</td><td>HR/SSO</td><td>Surpass</td><td>SCIM/CSV</td><td>Role mapping spot checks</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="integrations">
        <h2>Integrations</h2>
        <div class="prose">
          <ul>
            <li>AuthN/AuthZ — SSO (SAML/OIDC), role mapping.</li>
            <li>Results — API push / LTI return; retry & backoff policy.</li>
            <li>Proctoring — secure browser, session events.</li>
          </ul>
          <div class="mermaid">
            sequenceDiagram
              participant C as Client LMS
              participant S as Surpass
              C->>S: Launch (LTI/SSO)
              S-->>C: Auth callback
              C->>S: Start assessment
              S-->>C: Result callback (async)
          </div>
        </div>
      </section>

      <section class="card" id="validation">
        <h2>Validation & Sign‑off</h2>
        <div class="prose">
          <table>
            <thead><tr><th>Area</th><th>Test</th><th>Owner</th><th>Exit Criteria</th></tr></thead>
            <tbody>
              <tr><td>Content</td><td>Render + media</td><td>Client SMEs</td><td>100% pass on sample set</td></tr>
              <tr><td>Performance</td><td>Load test P95</td><td>SE</td><td>P95 &lt; 1.2s @ target users</td></tr>
              <tr><td>Security</td><td>SSO scopes</td><td>TA</td><td>Least‑privilege verified</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="cutover">
        <h2>Cutover Plan</h2>
        <div class="prose">
          <ol>
            <li>Freeze legacy writes</li>
            <li>Final delta load</li>
            <li>Smoke test (checklist below)</li>
            <li>Comms: go‑live notice</li>
            <li>Hypercare (defined window)</li>
          </ol>
          <div class="callout"><strong>Rollback:</strong> Define explicit triggers and steps to revert to legacy if needed.</div>
        </div>
      </section>

      <section class="card" id="checklists">
        <h2>Checklists</h2>
        <div class="grid-3">
          <div>
            <h3>Pre‑UAT</h3>
            <ul>
              <li>Envs provisioned</li>
              <li>SSO wired to Test IdP</li>
              <li>Sample content imported</li>
            </ul>
          </div>
          <div>
            <h3>Pre‑Launch</h3>
            <ul>
              <li>Final delta load complete</li>
              <li>Smoke tests green</li>
              <li>Support rota confirmed</li>
            </ul>
          </div>
          <div>
            <h3>Hypercare</h3>
            <ul>
              <li>Metrics dashboard live</li>
              <li>Known issues log shared</li>
              <li>Daily check‑in cadence</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="card" id="risks">
        <h2>Risks & Mitigations</h2>
        <div class="prose">
          <table>
            <thead><tr><th>ID</th><th>Risk</th><th>Impact</th><th>Mitigation</th><th>Owner</th><th>Status</th></tr></thead>
            <tbody>
              <tr><td>R‑01</td><td>Legacy export gaps</td><td>High</td><td>Map to Surpass equivalents; custom transforms</td><td>SE</td><td>Open</td></tr>
              <tr><td>R‑02</td><td>SSO attribute mismatch</td><td>Med</td><td>Attribute contract; test matrix</td><td>TA</td><td>Open</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="decisions">
        <h2>Decision Log</h2>
        <div class="prose">
          <table>
            <thead><tr><th>#</th><th>Decision</th><th>Context</th><th>Alternatives</th><th>Date</th><th>Owner</th></tr></thead>
            <tbody>
              <tr><td>1</td><td>Use OIDC over SAML</td><td>Client IdP supports both</td><td>SAML</td><td>YYYY‑MM‑DD</td><td>TA</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="card" id="appendix">
        <h2>Appendix</h2>
        <div class="prose">
          <ul>
            <li>API references</li>
            <li>Field mappings (CSV)</li>
            <li>Performance test plan</li>
          </ul>
        </div>
      </section>

    </main>
  </div>

  <button id="toTop" class="floating-top" title="Back to top">Top</button>
</body>
</html>
